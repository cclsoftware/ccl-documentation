

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Framework Isolation &mdash; CCL Cross-platform Framework Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../_static/cmakerole-sphinx_rtd_theme.css?v=982d3367" />
      <link rel="stylesheet" type="text/css" href="../../_static/doxyrest-pygments.css?v=ff3f4257" />
      <link rel="stylesheet" type="text/css" href="../../_static/doxyrest-sphinx_rtd_theme.css?v=b6ca47bd" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=7f41d439"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../../_static/target-highlight.js?v=df7d332b"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="CCL Tools" href="../tools.html" />
    <link rel="prev" title="Scripting" href="scripting.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #293F50" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../cclstartguide/index.html">Getting Started with CCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cmakeguide/index.html">CMake Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">CCL Cross-platform Framework</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building.html">Building CCL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howtos.html">CCL How-tos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">CCL in Detail</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="essentials.html">Essentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="strings.html">Using strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html">Application Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="phases.html">Application Phases</a></li>
<li class="toctree-l3"><a class="reference internal" href="android.html">Android Startup Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="filesystem_urls.html">File system and URLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="virtualfilesystem.html">Virtual File System</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugins.html">Plug-ins on Mobile Platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="shapes.html">Geometric Shape Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="gfx.html">Graphics Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="gfxupdate.html">Graphical Update Call Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="auth.html">Authorization Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripting.html">Scripting</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Framework Isolation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#building-an-isolated-copy-of-the-framework">Building an isolated copy of the framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-cmake-files-between-isolated-and-non-isolated-projects">Sharing CMake files between isolated and non-isolated projects</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">CCL Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cmdtools/index.html">CCL Command-line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/index.html">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../skinlanguage/index.html">CCL Skin Definition Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../corelibrary/index.html">Core Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coreskin/reference/core-skin-elements-classmodel.html">Core Skin Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extension/index.html">Extension Developer Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #293F50" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CCL Cross-platform Framework Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">CCL Cross-platform Framework</a></li>
          <li class="breadcrumb-item"><a href="index.html">CCL in Detail</a></li>
      <li class="breadcrumb-item active">Framework Isolation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="framework-isolation">
<h1>Framework Isolation<a class="headerlink" href="#framework-isolation" title="Link to this heading"></a></h1>
<p>Multiple versions of CCL can co-exist in the same process without clashes by using the framework isolation feature. This way, each framework consumer has access to its own (isolated) set of singleton instances like the built-in plug-in manager, etc. With framework isolation enabled, an application-defined postfix is appended to the names of shared framework libraries. The same postfix is applied to all exported functions.</p>
<section id="building-an-isolated-copy-of-the-framework">
<h2>Building an isolated copy of the framework<a class="headerlink" href="#building-an-isolated-copy-of-the-framework" title="Link to this heading"></a></h2>
<p>To use framework isolation, CCL needs to be built from source. See <a class="reference internal" href="../building.html#ccl-building"><span class="std std-ref">Building CCL</span></a>.</p>
<p>In your top-level <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file use <code class="docutils literal notranslate"><span class="pre">find_package</span></code> to import the required framework libraries.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">ccl_add_app</span></code> or a similar macro to define your targets.</p>
<p>Instead of using <code class="docutils literal notranslate"><span class="pre">target_link_libraries</span></code> to link framework libraries, use <code class="docutils literal notranslate"><span class="pre">target_link_ccl_framework</span></code> right after defining your target:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">target_link_ccl_framework</span><span class="w"> </span><span class="p">(</span><span class="s">my_application</span><span class="w"> </span><span class="s">ISOLATION_POSTFIX</span><span class="w"> </span><span class="s">custompostfix</span><span class="w"> </span><span class="s">PRIVATE</span>
<span class="w">  </span><span class="s">cclapp</span><span class="w"> </span><span class="s">cclbase</span><span class="w"> </span><span class="s">ccltext</span><span class="w"> </span><span class="s">cclsecurity</span><span class="w"> </span><span class="s">cclsystem</span><span class="w"> </span><span class="s">cclnet</span><span class="w"> </span><span class="s">cclgui</span><span class="w"> </span><span class="s">cclextras-webfs</span><span class="w"> </span><span class="s">cclextras-analytics</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This does multiple things:</p>
<p>First, by providing an <code class="docutils literal notranslate"><span class="pre">ISOLATION_POSTFIX</span></code>, new variables <code class="docutils literal notranslate"><span class="pre">`CCL_ISOLATION_POSTFIX</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_EXPORT_POSTFIX</span></code> are set to the provided value.
<code class="docutils literal notranslate"><span class="pre">CCL_ISOLATION_POSTFIX</span></code> is used to modify the binary file names of relevant libraries. <code class="docutils literal notranslate"><span class="pre">CCL_EXPORT_POSTFIX</span></code> is appended to exported function names.</p>
<p>Isolated copies of framework libraries are created. For example, a target <code class="docutils literal notranslate"><span class="pre">cclgui.custompostfix</span></code> is created for cclgui. When building this target on Windows, a binary file <code class="docutils literal notranslate"><span class="pre">cclgui.custompostfix.dll</span></code> is created.</p>
<p>Finally, isolated copies of framework libraries are linked to the top-level target (<code class="docutils literal notranslate"><span class="pre">my_application</span></code> in this example).</p>
<p>Make sure to follow these steps for any target in your project that is being used by the isolated top-level target.</p>
<p>You don’t need to repeat the <code class="docutils literal notranslate"><span class="pre">ISOLATION_POSTFIX</span></code> in every call to <code class="docutils literal notranslate"><span class="pre">target_link_ccl_framework</span></code>. The <code class="docutils literal notranslate"><span class="pre">CCL_ISOLATION_POSTFIX</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_EXPORT_POSTFIX</span></code> variables are valid within the CMake directory scope of the top-level target. <code class="docutils literal notranslate"><span class="pre">target_link_ccl_framework</span></code> will find the correct targets for the current isolation scope.</p>
</section>
<section id="sharing-cmake-files-between-isolated-and-non-isolated-projects">
<h2>Sharing CMake files between isolated and non-isolated projects<a class="headerlink" href="#sharing-cmake-files-between-isolated-and-non-isolated-projects" title="Link to this heading"></a></h2>
<p>When sharing CMake files between projects, possibly using isolated and non-isolated copies of the same targets in a single top-level CMake file, care must be taken to create isolated copies of all shared targets.</p>
<p>For example, when creating a plug-in or service library that should be used in isolated and non-isolated projects, avoid using CMake include guards in your CMake files.
Instead, use <code class="docutils literal notranslate"><span class="pre">ccl_check_target_exists</span></code>:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ccl_check_target_exists</span><span class="w"> </span><span class="p">(</span><span class="s">my_service</span><span class="w"> </span><span class="s">target_exists</span><span class="p">)</span>
<span class="nb">if</span><span class="w"> </span><span class="p">(</span><span class="s">target_exists</span><span class="p">)</span>
<span class="w">    </span><span class="nb">return</span><span class="w"> </span><span class="p">()</span>
<span class="nb">endif</span><span class="w"> </span><span class="p">()</span>

<span class="c"># Add target</span>
<span class="nb">ccl_add_plugin_library</span><span class="w"> </span><span class="p">(</span><span class="s">my_service</span>
<span class="w">    </span><span class="s">VENDOR</span><span class="w"> </span><span class="s">presonus</span>
<span class="w">    </span><span class="s">VERSION_FILE</span><span class="w"> </span><span class="s2">&quot;${CMAKE_CURRENT_LIST_DIR}/../source/plugversion.h&quot;</span>
<span class="w">    </span><span class="s">VERSION_PREFIX</span><span class="w"> </span><span class="s">PLUG</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This macro takes the current value of <code class="docutils literal notranslate"><span class="pre">CCL_ISOLATION_POSTFIX</span></code> into account and sets the variable <code class="docutils literal notranslate"><span class="pre">target_exists</span></code> to <code class="docutils literal notranslate"><span class="pre">ON</span></code> if a target named <code class="docutils literal notranslate"><span class="pre">my_service</span></code> (in a non-isolated project) or <code class="docutils literal notranslate"><span class="pre">my_service.${CCL_ISOLATION_POSTFIX}</span></code> (in an isolated project) exists.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">ccl_add_plugin_library</span></code> automatically appends <code class="docutils literal notranslate"><span class="pre">CCL_ISOLATION_POSTFIX</span></code> to the target name and defines a variable <code class="docutils literal notranslate"><span class="pre">my_service_target</span></code>.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">${my_service_target}</span></code> instead of <code class="docutils literal notranslate"><span class="pre">my_service</span></code> to reference the correct copy of your target after the call to <code class="docutils literal notranslate"><span class="pre">ccl_add_plugin_library</span></code>.</p>
<p>If you don’t use <code class="docutils literal notranslate"><span class="pre">ccl_add_plugin_library</span></code>, you may explicitly pass a <code class="docutils literal notranslate"><span class="pre">POSTFIX</span></code> to <code class="docutils literal notranslate"><span class="pre">ccl_add_library</span></code>:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ccl_add_library</span><span class="w"> </span><span class="p">(</span><span class="s">my_library</span><span class="w"> </span><span class="s">MODULE</span><span class="w"> </span><span class="s">POSTFIX</span><span class="w"> </span><span class="s2">&quot;${CCL_ISOLATION_POSTFIX}&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scripting.html" class="btn btn-neutral float-left" title="Scripting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../tools.html" class="btn btn-neutral float-right" title="CCL Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, CCL Software Licensing GmbH.
      <span class="lastupdated">Last updated on Jan 13, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>